<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Encoded Data</title>
</head>
<body>

    <h1>Testing the contents of data.txt</h1>
    <p>Open the developer console to see the results.</p>
    <p>In Chrome/Edge/Firefox, press <strong>F12</strong> or <strong>Ctrl+Shift+I</strong> (Cmd+Opt+I on Mac).</p>
    <hr>
    <h2>Decoded Object:</h2>
    <pre id="output">Loading...</pre>

    <script>
        async function runTest() {
            const outputElement = document.getElementById('output');
            try {
                console.log("Step 1: Fetching data.txt...");
                const response = await fetch('data.txt');
                if (!response.ok) {
                    throw new Error(`Failed to fetch file. Status: ${response.status}`);
                }
                const encodedData = await response.text();
                console.log("Step 2: Successfully fetched the encoded string. Length:", encodedData.length);
                
                console.log("Step 3: Decoding the string with atob()...");
                const decodedJsonString = atob(encodedData);
                console.log("Step 4: Successfully decoded to JSON string.");
                
                console.log("Step 5: Parsing the JSON string...");
                const dataObject = JSON.parse(decodedJsonString);
                console.log("Step 6: SUCCESS! The data was decoded and parsed correctly.");
                
                // Log the final object to the console for inspection
                console.log(dataObject);

                // Display the object on the page for easy viewing
                outputElement.textContent = JSON.stringify(dataObject, null, 2); // The '2' makes it nicely formatted

            } catch (error) {
                console.error("TEST FAILED. An error occurred:", error);
                outputElement.textContent = `Error: ${error.message}\n\nCheck the console (F12) for more details.`;
                outputElement.style.color = 'red';
            }
        }

        runTest();
    </script>

</body>
</html>